<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Upload</title>
    <meta charset="UTF-8">
    <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet" media="screen" />
    <link href="../static/css/style.css" th:href="@{/css/style.css}" rel="stylesheet" media="screen" />
    <script src="../static/js/jquery-3.4.1.min.js" th:src="@{/js/jquery-3.4.1.min.js}"></script>
    <script>
        function ValidateSize(file) {
            var FileSize = file.files[0].size;
            if (FileSize > 10485760) { // 10 * 1024 * 1024 (10 MB)
                alert("Maximum file size exceeded. Maximum file size is 10MB");
                $(file).val(''); //for clearing with Jquery
            }
        }
    </script>
</head>
<body>
<div th:replace="header :: header"></div>
<div class="container mt-2">
    <form class="form-horizontal" method="POST" enctype="multipart/form-data" id="fileUploadForm">
        <div class="form-group">
            <label for="fileupload">Choose file: </label>
            <input type="file" class="form-control-file" id="fileupload" placeholder="Upload File"  name="uploadFile" aria-describedby="uploadHelp" onchange="ValidateSize(this)" required>
            <small id="uploadHelp" class="form-text text-muted">Maximum file size is 10MB</small>
        </div>
        <div class="form-group">
            <label for="author" >Author: </label>
            <input type="text" class="form-control" id="author" placeholder="Write the author" th:field="${fileInfo.author}" maxlength="255" aria-describedby="authorHelp">
            <small id="authorHelp" class="form-text text-muted">Field can be empty but maximum length is 255.</small>
        </div>
        <div class="form-group">
            <label for="comment" >Comment: </label>
            <input type="text" class="form-control" id="comment" placeholder="Write a comment" th:field="${fileInfo.comment}" maxlength="255" aria-describedby="commentHelp">
            <small id="commentHelp" class="form-text text-muted">Field can be empty but maximum length is 255.</small>
        </div>
        <button type="submit" class="btn btn-primary" id="btnSubmit">Upload</button>
    </form>
</div>
</body>
</html>